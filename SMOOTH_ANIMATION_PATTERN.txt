// Quick reference for smooth scroll animations pattern
// Use this pattern in all pages for consistent, smooth animations like Contact/Pricing

import { useState, useEffect, useRef } from 'react';

// 1. Add state and refs
const [visibleSections, setVisibleSections] = useState<Set<string>>(new Set());
const sectionRef = useRef<HTMLDivElement>(null);

// 2. Scroll to top on mount
useEffect(() => {
  window.scrollTo(0, 0);
}, []);

// 3. Intersection Observer
useEffect(() => {
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observerCallback = (entries: IntersectionObserverEntry[]) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        setVisibleSections(prev => new Set(prev).add(entry.target.id));
      }
    });
  };

  const observer = new IntersectionObserver(observerCallback, observerOptions);
  
  const sections = [sectionRef]; // Add all your refs here
  sections.forEach(ref => {
    if (ref.current) {
      observer.observe(ref.current);
    }
  });

  return () => observer.disconnect();
}, []);

// 4. In JSX, use refs and conditional classes
<div
  ref={sectionRef}
  id="section-id"
  className={`transition-all duration-700 ease-out ${
    visibleSections.has('section-id') 
      ? 'opacity-100 translate-y-0' 
      : 'opacity-0 translate-y-8'
  }`}
>
  Content here
</div>

// 5. Add delays for stagger effect
className={`transition-all duration-700 ease-out delay-100 ${...}`}
className={`transition-all duration-700 ease-out delay-200 ${...}`}
